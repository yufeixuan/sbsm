<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!-- 页面自适应 -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

    <script src="../static/js/ckeditor5-build-decoupled-document/ckeditor.js"></script>
    <script src="../static/js/ckeditor5-build-decoupled-document/translations/zh-cn.js"></script>

    <title>CKEditor-DOC</title>
</head>
<body>
<h1>Document editor</h1>

<!-- The toolbar will be rendered in this container. -->
<div id="toolbar-container"></div>

<!-- This container will become the editable. -->
<div id="editor">
    <p>This is the initial editor content.</p>
</div>

<button id="submit">Submit</button>

<script>

    let myEditor;

    DecoupledEditor
    .create(document.querySelector('#editor'), {
        language: 'zh-cn',
        ckfinder: {
            uploadUrl: "http://localhost:8070/upload"
        }
    })
    .then(editor => {
        const toolbarContainer = document.querySelector('#toolbar-container');

        toolbarContainer.appendChild(editor.ui.view.toolbar.element);

        myEditor = editor;
    })
    .catch(error => {
        console.error(error);
    });

    document.querySelector( '#submit' ).addEventListener( 'click', () => {
        const editorData = myEditor.getData();

        console.log(editorData);
    } );
</script>

</body>
</html>